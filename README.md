# auto-security-review-sample

このプロジェクトは、コードのセキュリティレビューを自動化するためのサンプルツールです。

## 概要

様々なプログラミング言語のプロジェクトにおけるセキュリティ脆弱性を検出し、開発者にフィードバックを提供することを目的としています。

## 特徴

- 自動セキュリティスキャン
- GitHub Actionsとの統合
- 複数のプログラミング言語に対応
- カスタマイズ可能なルールセット
- 詳細なレポート生成

## セットアップ

### GitHub の権限設定

このセキュリティレビューツールを使用するには、以下の GitHub の権限設定が必要です：

1. **Actions の有効化**: リポジトリの Settings > Actions > General で GitHub Actions を有効にします。

2. **GITHUB_TOKEN の権限**: セキュリティレビューの結果をプルリクエストにコメントするために、GITHUB_TOKEN に書き込み権限が必要です。以下の手順で設定します：
   - リポジトリの Settings > Actions > General に移動
   - "Workflow permissions" セクションで、"Read and write permissions" を選択

### ワークフローファイルの設定

1. このリポジトリから`.github/workflows/security-review.yml`ファイルをコピーし、あなたのプロジェクトの同じ場所に配置します。
2. 必要に応じて、ワークフローファイルの設定を調整します。特に、Secrets を使用する部分は自分のプロジェクトの設定に合わせて変更してください。

## 使い方

1. 必要に応じて、ワークフローファイルの設定を調整します。
2. プルリクエストを作成すると、自動的にセキュリティレビューが実行されます。
3. 生成されたレポートを確認し、必要な修正を行います。

## 使用ツール

このサンプルプロジェクトでは、以下のセキュリティツールを使用しています：

1. Semgrep: 静的解析ツールで、コードのパターンマッチングを行い、セキュリティの問題を検出します。
2. reviewdog: 静的解析ツールの結果をプルリクエストにコメントとして表示するツールです。

これらのツールは、`.github/workflows/security-review.yml`ファイル内で設定されています。プロジェクトのニーズに応じて、使用するツールを追加・削除・変更することができます。

## 注意事項

- セキュリティレビューの結果は、あくまで参考情報です。最終的な判断は開発者が行ってください。
- 各ツールの詳細な使用方法や設定については、それぞれのドキュメントを参照してください。

## カスタマイズ

`security-review.yml`ファイルを編集することで、以下のようなカスタマイズが可能です：

- スキャン対象のファイル種類の変更
- 使用するセキュリティツールの追加や変更
- レポート形式の調整

### Semgrepのカスタムルール

Semgrepのカスタムルールは`.semgrep/`ディレクトリ以下に配置します。以下の手順で追加できます：

1. プロジェクトのルートに`.semgrep`ディレクトリを作成します（存在しない場合）。
2. カスタムルールを`.yml`ファイルとして`.semgrep/`ディレクトリ内に作成します。
3. ワークフローファイル内のSemgrepの実行コマンドに`--config .semgrep/`オプションが含まれていることを確認します。

カスタムルールの作成方法の詳細については、[Semgrepの公式ドキュメント](https://semgrep.dev/docs/writing-rules/overview/)を参照してください。
